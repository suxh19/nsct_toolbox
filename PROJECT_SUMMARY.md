# NSCT å·¥å…·ç®±æµ‹è¯•å’Œç¿»è¯‘é¡¹ç›®æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ä¸ºäº†å°† NSCTï¼ˆéä¸‹é‡‡æ ·è½®å»“æ³¢å˜æ¢ï¼‰MATLAB å·¥å…·ç®±ç¿»è¯‘ä¸ºé«˜æ•ˆçš„ Python ä»£ç ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€å¥—å®Œæ•´çš„æµ‹è¯•æ¡†æ¶æ¥ç¡®ä¿ç¿»è¯‘çš„æ­£ç¡®æ€§ã€‚

## ğŸ“ å·²åˆ›å»ºçš„æ–‡ä»¶

### æµ‹è¯•è„šæœ¬æ–‡ä»¶ (matlab_tests/)

**ç¬¬ 1 æ­¥ - åº•å±‚æ“ä½œ** (5 ä¸ªæ–‡ä»¶)
- `test_step1_extend2.m` - æµ‹è¯•å›¾åƒè¾¹ç•Œæ‰©å±•
- `test_step1_symext.m` - æµ‹è¯•å¯¹ç§°è¾¹ç•Œæ‰©å±•
- `test_step1_upsample2df.m` - æµ‹è¯•æ»¤æ³¢å™¨ä¸Šé‡‡æ ·
- `test_step1_modulate2.m` - æµ‹è¯•çŸ©é˜µè°ƒåˆ¶
- `test_step1_resampz.m` - æµ‹è¯•çŸ©é˜µå‰ªåˆ‡é‡é‡‡æ ·

**ç¬¬ 2 æ­¥ - å·ç§¯å’Œæ»¤æ³¢** (2 ä¸ªæ–‡ä»¶)
- `test_step2_efilter2.m` - æµ‹è¯•å¸¦è¾¹ç•Œæ‰©å±•çš„å·ç§¯
- `test_step2_dilated_conv.m` - æµ‹è¯•å¸¦è†¨èƒ€çš„å·ç§¯ï¼ˆMEX åŠŸèƒ½ï¼‰

**ç¬¬ 3 æ­¥ - æ»¤æ³¢å™¨ç”Ÿæˆ** (5 ä¸ªæ–‡ä»¶)
- `test_step3_dmaxflat.m` - æµ‹è¯•è±å½¢æœ€å¤§å¹³å¦æ»¤æ³¢å™¨
- `test_step3_dfilters.m` - æµ‹è¯•æ–¹å‘æ»¤æ³¢å™¨
- `test_step3_atrousfilters.m` - æµ‹è¯•é‡‘å­—å¡”æ»¤æ³¢å™¨
- `test_step3_parafilters.m` - æµ‹è¯•å¹³è¡Œå››è¾¹å½¢æ»¤æ³¢å™¨
- `test_step3_auxiliary.m` - æµ‹è¯•è¾…åŠ©å‡½æ•°

**ç¬¬ 4 æ­¥ - æ ¸å¿ƒåˆ†è§£é‡æ„** (1 ä¸ªæ–‡ä»¶)
- `test_step4_core_decomposition.m` - æµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåˆ†è§£å’Œé‡æ„å‡½æ•°

**ç¬¬ 5 æ­¥ - é¡¶å±‚æ¥å£** (1 ä¸ªæ–‡ä»¶)
- `test_step5_nsct_full.m` - æµ‹è¯•å®Œæ•´çš„ NSCT åˆ†è§£å’Œé‡æ„

### ä¸»è¿è¡Œè„šæœ¬

- `run_step1_tests.m` - è¿è¡Œç¬¬ 1 æ­¥æ‰€æœ‰æµ‹è¯•
- `run_step2_tests.m` - è¿è¡Œç¬¬ 2 æ­¥æ‰€æœ‰æµ‹è¯•
- `run_step3_tests.m` - è¿è¡Œç¬¬ 3 æ­¥æ‰€æœ‰æµ‹è¯•
- `run_step4_tests.m` - è¿è¡Œç¬¬ 4 æ­¥æ‰€æœ‰æµ‹è¯•
- `run_step5_tests.m` - è¿è¡Œç¬¬ 5 æ­¥æ‰€æœ‰æµ‹è¯•
- **`run_all_tests.m`** - ä¸»æµ‹è¯•è„šæœ¬ï¼Œè¿è¡Œæ‰€æœ‰æµ‹è¯•

### æ–‡æ¡£æ–‡ä»¶

- `TEST_README.md` - æµ‹è¯•å¥—ä»¶ä½¿ç”¨è¯´æ˜
- `TRANSLATION_GUIDE.md` - Python ç¿»è¯‘è¯¦ç»†æŒ‡å—
- `PROJECT_SUMMARY.md` - æœ¬æ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1: ç”Ÿæˆæµ‹è¯•æ•°æ®

åœ¨ MATLAB ä¸­è¿è¡Œï¼š

```matlab
cd /path/to/nsct_toolbox
run_all_tests
```

è¿™ä¼šåœ¨ `test_data/` ç›®å½•ä¸‹ç”Ÿæˆæ‰€æœ‰ `.mat` æµ‹è¯•æ•°æ®æ–‡ä»¶ã€‚

### æ­¥éª¤ 2: æŒ‰é¡ºåºç¿»è¯‘ Python ä»£ç 

æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œç¿»è¯‘ï¼š

1. **ç¬¬ 1 æ­¥**ï¼šåº•å±‚æ“ä½œï¼ˆextend2, symext, upsample2df, modulate2, resampzï¼‰
2. **ç¬¬ 2 æ­¥**ï¼šå·ç§¯å’Œæ»¤æ³¢ï¼ˆefilter2, å¸¦è†¨èƒ€çš„å·ç§¯ï¼‰
3. **ç¬¬ 3 æ­¥**ï¼šæ»¤æ³¢å™¨ç”Ÿæˆï¼ˆdmaxflat, dfilters, atrousfilters, parafiltersï¼‰
4. **ç¬¬ 4 æ­¥**ï¼šæ ¸å¿ƒåˆ†è§£é‡æ„ï¼ˆnssfbdec/rec, nsdfbdec/rec, atrousdec/recï¼‰
5. **ç¬¬ 5 æ­¥**ï¼šé¡¶å±‚æ¥å£ï¼ˆnsctdec, nsctrecï¼‰

### æ­¥éª¤ 3: éªŒè¯æ¯ä¸ªå‡½æ•°

ä½¿ç”¨ç”Ÿæˆçš„ `.mat` æ–‡ä»¶éªŒè¯ Python å®ç°ï¼š

```python
import scipy.io as sio
import numpy as np

# åŠ è½½æµ‹è¯•æ•°æ®
data = sio.loadmat('test_data/step1_extend2.mat')

# éªŒè¯
result = your_function(data['test_matrix'], ...)
error = np.max(np.abs(result - data['result1']))
print(f'è¯¯å·®: {error:.2e}')
```

## ğŸ“Š æµ‹è¯•æ•°æ®ç»“æ„

æ¯ä¸ª `.mat` æ–‡ä»¶åŒ…å«ï¼š
- **è¾“å…¥æ•°æ®**ï¼šæµ‹è¯•ç”¨çš„è¾“å…¥å‚æ•°
- **è¾“å‡ºæ•°æ®**ï¼šMATLAB è®¡ç®—çš„æœŸæœ›è¾“å‡º
- **æµ‹è¯•æ¡ˆä¾‹**ï¼šå¤šä¸ªä¸åŒå‚æ•°çš„æµ‹è¯•æƒ…å†µ

ä¾‹å¦‚ `step1_extend2.mat` åŒ…å«ï¼š
- `test_matrix` - è¾“å…¥çŸ©é˜µ
- `result1` - æµ‹è¯•æ¡ˆä¾‹ 1 çš„è¾“å‡º
- `result2` - æµ‹è¯•æ¡ˆä¾‹ 2 çš„è¾“å‡º
- ç­‰ç­‰...

## ğŸ¯ ç¿»è¯‘ç­–ç•¥

### æ ¸å¿ƒåŸåˆ™

1. **ç”±åº•å‘ä¸Š**ï¼šä»ä¸ä¾èµ–å…¶ä»–å‡½æ•°çš„åº•å±‚å¼€å§‹
2. **é€æ­¥éªŒè¯**ï¼šæ¯ç¿»è¯‘å®Œä¸€ä¸ªå‡½æ•°å°±ç«‹å³æµ‹è¯•
3. **ä¿æŒç»“æ„**ï¼šå°½é‡ä¿æŒåŸæœ‰çš„ç®—æ³•ç»“æ„
4. **ä½¿ç”¨åº“å‡½æ•°**ï¼šå……åˆ†åˆ©ç”¨ NumPy å’Œ SciPy çš„é«˜æ•ˆå®ç°

### Python åº“æ˜ å°„

- **è¾¹ç•Œæ‰©å±•** â†’ `numpy.pad()`
- **å·ç§¯** â†’ `scipy.signal.convolve2d()`
- **å¸¦è†¨èƒ€çš„å·ç§¯** â†’ `scipy.signal.convolve2d(dilation=...)`
- **çŸ©é˜µæ“ä½œ** â†’ NumPy æ•°ç»„æ“ä½œ
- **Cell æ•°ç»„** â†’ Python list

### å…³é”®å·®å¼‚

| æ–¹é¢ | MATLAB | Python |
|------|--------|--------|
| ç´¢å¼• | ä» 1 å¼€å§‹ | ä» 0 å¼€å§‹ |
| çŸ©é˜µè½¬ç½® | `A'` | `A.T` |
| Cell æ•°ç»„ | `cell(n)` | `[]` |
| å¤§å° | `size(A)` | `A.shape` |
| å·ç§¯ | `conv2()` | `scipy.signal.convolve2d()` |

## ğŸ“ˆ é¢„æœŸæˆæœ

å®Œæˆç¿»è¯‘åï¼Œä½ å°†æ‹¥æœ‰ï¼š

1. âœ… **å®Œæ•´çš„ Python NSCT åº“**
   - æ”¯æŒå¤šçº§åˆ†è§£
   - æ”¯æŒå¤šæ–¹å‘åˆ†æ
   - å®Œç¾é‡æ„ï¼ˆè¯¯å·® < 1e-10ï¼‰

2. âœ… **å®Œæ•´çš„æµ‹è¯•å¥—ä»¶**
   - å•å…ƒæµ‹è¯•ï¼ˆæ¯ä¸ªå‡½æ•°ï¼‰
   - é›†æˆæµ‹è¯•ï¼ˆå®Œæ•´æµç¨‹ï¼‰
   - æ€§èƒ½æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

3. âœ… **é«˜è´¨é‡ä»£ç **
   - æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²
   - ç±»å‹æç¤º
   - ç¬¦åˆ PEP 8 è§„èŒƒ

## ğŸ› ï¸ æ¨èçš„å¼€å‘æµç¨‹

### Day 1-3: ç¬¬ 1 æ­¥
- ç¿»è¯‘ 5 ä¸ªåº•å±‚å‡½æ•°
- ç”¨ `step1_*.mat` æ–‡ä»¶éªŒè¯
- ç¼–å†™å•å…ƒæµ‹è¯•

### Day 4-5: ç¬¬ 2 æ­¥
- ç¿»è¯‘å·ç§¯å’Œæ»¤æ³¢å‡½æ•°
- ç”¨ `step2_*.mat` æ–‡ä»¶éªŒè¯
- ç¡®ä¿è†¨èƒ€å·ç§¯æ­£ç¡®

### Day 6-10: ç¬¬ 3 æ­¥
- ç¿»è¯‘æ»¤æ³¢å™¨ç”Ÿæˆå‡½æ•°
- å…ˆç¿»è¯‘è¾…åŠ©å‡½æ•°ï¼ˆmctrans, ld2quin ç­‰ï¼‰
- å†ç¿»è¯‘ä¸»å‡½æ•°
- ç”¨ `step3_*.mat` æ–‡ä»¶éªŒè¯

### Day 11-14: ç¬¬ 4 æ­¥
- ç¿»è¯‘æ ¸å¿ƒåˆ†è§£å’Œé‡æ„å‡½æ•°
- è¿™æ˜¯æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œéœ€è¦ä»”ç»†è°ƒè¯•
- ç”¨ `step4_*.mat` æ–‡ä»¶éªŒè¯

### Day 15-16: ç¬¬ 5 æ­¥
- ç¿»è¯‘é¡¶å±‚æ¥å£
- è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•
- ç”¨ `step5_*.mat` æ–‡ä»¶éªŒè¯

### Day 17-18: ä¼˜åŒ–å’Œæ–‡æ¡£
- æ€§èƒ½ä¼˜åŒ–
- å®Œå–„æ–‡æ¡£
- æ·»åŠ ç¤ºä¾‹ä»£ç 

## âš ï¸ å¸¸è§é™·é˜±

1. **ç´¢å¼•å·®å¼‚**ï¼šMATLAB ä» 1 å¼€å§‹ï¼ŒPython ä» 0 å¼€å§‹
2. **ç»´åº¦é¡ºåº**ï¼šæ³¨æ„è¡Œåˆ—çš„é¡ºåº
3. **æ•°æ®ç±»å‹**ï¼šç¡®ä¿ä½¿ç”¨ float64
4. **å·ç§¯æ¨¡å¼**ï¼š'same', 'valid', 'full' çš„å«ä¹‰è¦ä¸€è‡´
5. **Cell æ•°ç»„**ï¼šMATLAB çš„ cell åœ¨ Python ä¸­ç”¨ list

## ğŸ“š å‚è€ƒèµ„æ–™

- `TEST_README.md` - æµ‹è¯•å¥—ä»¶è¯¦ç»†è¯´æ˜
- `TRANSLATION_GUIDE.md` - Python ç¿»è¯‘æŒ‡å—
- `instruction.md` - åŸå§‹ç¿»è¯‘è®¡åˆ’

## ğŸ‰ æˆåŠŸæ ‡å‡†

ç¿»è¯‘æˆåŠŸçš„æ ‡å¿—ï¼š

- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] å®Œæ•´ NSCT åˆ†è§£å’Œé‡æ„è¯¯å·® < 1e-10
- [ ] ä»£ç é€šè¿‡ pylint/flake8 æ£€æŸ¥
- [ ] æœ‰å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²
- [ ] æœ‰ä½¿ç”¨ç¤ºä¾‹
- [ ] æ€§èƒ½ä¸ MATLAB ç‰ˆæœ¬ç›¸å½“æˆ–æ›´å¥½

## ğŸ“ åç»­æ­¥éª¤

å®ŒæˆåŸºæœ¬ç¿»è¯‘åï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨ Numba JIT ç¼–è¯‘
   - å¹¶è¡ŒåŒ–å¤„ç†
   - GPU åŠ é€Ÿï¼ˆCuPyï¼‰

2. **åŠŸèƒ½æ‰©å±•**
   - æ·»åŠ æ›´å¤šæ»¤æ³¢å™¨ç±»å‹
   - æ”¯æŒ 3D NSCT
   - æ‰¹å¤„ç†æ”¯æŒ

3. **å‘å¸ƒ**
   - åˆ›å»º PyPI åŒ…
   - ç¼–å†™æ•™ç¨‹å’Œç¤ºä¾‹
   - åˆ¶ä½œæ–‡æ¡£ç½‘ç«™

---

**ç°åœ¨å¼€å§‹ç¿»è¯‘å§ï¼** ğŸ’ª

è¿è¡Œ `run_all_tests.m` ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œç„¶åæŒ‰ç…§ `TRANSLATION_GUIDE.md` å¼€å§‹ç¬¬ 1 æ­¥çš„ç¿»è¯‘ã€‚

Good luck! ğŸ€
